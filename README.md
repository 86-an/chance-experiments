# 🎲 Chance Experiments

ガチャやパチンコの確率シミュレーションを実行し、結果を表やグラフで可視化するWebアプリケーション

## 📝 概要
**Chance Experiments**は、ガチャとパチンコの確率シミュレーションを体験できるWebサイトです。統計学や確率論の実践的な学習ツールとして、また娯楽の参考データとしてご活用いただけます。

- **リアルな確率計算**: 実際の確率に基づいたシミュレーション
- **詳細な統計分析**: グラフと表で結果を可視化
- **大量データ対応**: 数万回の試行も高速処理

## 🎯 目的

1. **教育目的**: 確率論・統計学の実践的な学習
2. **データ分析**: 大量試行による確率分布の可視化
3. **意思決定支援**: ガチャやパチンコの期待値・収支分析

このプロジェクトは、確率的事象のシミュレーションを通じて、数学的な理論と実際のデータの関係を体験的に学ぶことを目指しています。

## 🚀 使い方

### 基本的な使い方
- https://86-an.github.io/chance-experiments/

### 動作環境
- **ブラウザ**: Google Chrome（推奨）
- **デバイス**: PC（モバイル未対応）
- **ネットワーク**: ローカル実行可能（CDN使用のためオンライン推奨）

## 🎰 機能

### ガチャシミュレーション

- **レア度別排出**: UR/SSR/SR/R/Nの5段階
- **大量試行対応**: 10連～100万回の試行
- **統計分析**:
  - レア度別排出率と実測値の比較
  - キャラクター別統計
  - SSR以上排出統計
  - 標準偏差と分布分析
- **グラフ表示**: Chart.jsによる棒グラフ

### パチンコシミュレーション

- **リアルな挙動再現**:
  - 通常抽選・確変・時短
  - ST型/ループ型の選択
  - 出玉期待値のランダム化（400/600/1000/1500玉）
  - 回転効率の日別変動（4～6玉/回転）
- **詳細な統計**:
  - 最小/最大/平均/中央値/最頻値
  - 連チャン数分布
  - 出玉推移と収支分析
- **グラフ表示**:
  - 円グラフ（当たり種別分布）
  - 棒グラフ（確変/時短突入率、連チャンヒストグラム）
  - 折れ線グラフ（出玉推移、収支推移）

### 共通機能

- **Bootstrap統一ヘッダー**: 3ページ間のナビゲーション
- **レスポンシブデザイン**: モダンなUI/UX
- **高速処理**: 非同期バッチ処理で大量データに対応
- **進捗表示**: 処理状況のリアルタイム表示

## 💡 工夫

### パフォーマンス最適化

1. **バッチDOM更新**: DocumentFragmentで一括更新
2. **非同期処理**: 大量データ時のUIブロック防止
3. **メモリ効率化**: プログレスデータのサンプリング
4. **統計計算の最適化**: 一度のループで複数統計を計算

### UX改善

1. **動的フォーム生成**: 一般的な値のみをプリセット
2. **入力バリデーション**: ST/ループの相互排他制御
3. **エラー表示**: わかりやすいエラーメッセージ
4. **進捗フィードバック**: 処理中の進捗率表示

### コード品質

1. **モジュール化**: 関数分離で保守性向上
2. **統一ヘッダー**: header.html一元管理
3. **コンソールログ**: デバッグ用の詳細ログ出力
4. **コメント**: 各機能の説明を記載

### リアリティ追求（パチンコ）

1. **出玉ランダム化**: 毎回異なる出玉（400～1500玉）
2. **回転効率変動**: 日ごとに4～6玉/回転で変化
3. **複数統計指標**: 平均だけでなく中央値・最頻値も表示

## ⚠️ 課題

### 現在の制限事項

1. **ブラウザ互換性**: Chrome以外の動作未確認
2. **モバイル非対応**: PC専用（レスポンシブは一部対応）
3. **データ保存**: 結果の保存機能なし
4. **カスタマイズ**: パラメータの範囲が固定
5. **エラーハンドリング**: 一部のエラーケースに未対応

### 既知の問題

- 極端に大量のデータ（1000日以上のパチンコ）で処理が遅い場合がある
- 古いブラウザでは動作しない可能性
- ローカルファイルからの実行時、header.htmlの読み込みに失敗する場合がある

## 🔮 今後の展開

### 短期的な改善

- [ ] Safari/Firefox対応
- [ ] モバイル対応（レスポンシブデザイン強化）
- [ ] 結果のCSVエクスポート機能
- [ ] シミュレーション結果の保存/読み込み
- [ ] パラメータプリセット機能

### 中長期的な機能追加

- [ ] Web Workers導入（さらなる高速化）
- [ ] より詳細な統計分析（信頼区間、仮説検定）
- [ ] カスタムガチャデータの読み込み
- [ ] パチンコの台別設定プリセット
- [ ] シミュレーション比較機能（複数パターン同時実行）
- [ ] アニメーション機能（ガチャ演出）

### 技術的な改善

- [ ] TypeScript化
- [ ] テストコード追加
- [ ] ビルドシステム導入
- [ ] PWA対応（オフライン動作）

## 🛠️ 技術スタック

- **HTML5/CSS3**: マークアップとスタイリング
- **JavaScript (ES6+)**: シミュレーションロジック
- **Bootstrap 5.3**: UIフレームワーク
- **Chart.js**: グラフ描画ライブラリ
- **JSON**: データ管理

## 📄 ライセンス

このプロジェクトは個人的な学習・研究目的で作成されています。

## ⚠️ 免責事項

- このシミュレーターは教育・研究目的で作成されており、実際のギャンブルとは異なります
- 素人が作成したため、不具合がある可能性があります
- 内容の一部は生成AIによって作成されています
- 実際の賭博行為を推奨するものではありません

## 🙏 謝辞

- Chart.js開発チーム
- Bootstrap開発チーム
- 生成AI（コード生成支援）

---

**開発者**: 86-an  
**リポジトリ**: [github.com/86-an/chance-experiments](https://github.com/86-an/chance-experiments)  
**最終更新**: 2025年12月8日
